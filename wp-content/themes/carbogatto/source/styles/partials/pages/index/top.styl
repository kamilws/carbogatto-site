@import "mixins.styl"

section.main.index
  .top-block
    min-height calc(100vh - 50px)
    box-sizing border-box
    .scroll-icon
      top 70px
    .preloader
      position absolute
      left 10px
      top 100%
      margin -40px 0 0 0
      background image-url('pages/index/play.png') no-repeat top center / contain
      width 25px
      height @width
      z-index 3
      &.__loading
        background-image image-url('pages/index/preloader.png')
        animation rotate 1s infinite
      &.__play
        background-image image-url('pages/index/play.png')
      &.__replay
        background-image image-url('pages/index/replay.png')
      &.__pause
        background-image image-url('pages/index/pause.png')
    .video-block
      position relative
      overflow hidden
      margin-bottom 3em
      margin-left -(container-padding)
      margin-right -(container-padding)
      .bottom-line
        position absolute
        left 0
        bottom -1px
        height 15px
        width 100%
        z-index 2
        background linear-gradient(to bottom, rgba(black, .01), rgba(black, 1) 50%, rgba(black, 1))
    .text-block
      padding-bottom 1em
    .arrow-down
      margin-top 20px
    p
      padding-left 1em
      padding-right 1em
      text-align center
    //Телефоны альбом
    @media (max-width mup) and (min-aspect-ratio index-album)
      min-height 0
      margin-bottom 40px
      .video-block
        margin-bottom 0
        height 280px
        video
          margin-top -24%
      .preloader
        margin-top -70px

    //Десктоп
    @media (min-width mup)
      mup-video-block()
      padding-top 0
      height calc(100vh - 80px)
      .scroll-icon
        top 30px
      .arrow
        display none
      .preloader
        top auto
        bottom 70px
        left 110px
        width 40px
        margin-top 0
        height @width
      .video-block
        position relative
        margin-top -17.3%
        margin-bottom 0
        .bottom-line
          height 25px
        video
          width 100%
          position relative
          display block
      .text-block
        position absolute
        z-index 3
        left 0
        bottom 0
        width 100%
        background transparent
        box-sizing border-box
        padding-bottom 0
      @media (max-aspect-ratio index-small)
        .video-block
          margin-top -9%
      @media (max-aspect-ratio index-medium)
        .text-block
          padding-bottom 2em
        .video-block
          margin-top 0
      @media (max-aspect-ratio index-large)
        height initial
        .text-block
          position static